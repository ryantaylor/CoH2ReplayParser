<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Sends a signal (&quot;kills&quot;) to processes."><meta name="keywords" content="rust, rustlang, rust-lang, rb_f_kill"><title>rb_f_kill in rb_sys::bindings - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Regular-1f7d512b176f0f72.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Bold-124a1ca42af929b6.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../static.files/rustdoc-6827029ac823cab7.css" id="mainThemeStyle"><link rel="stylesheet" id="themeStyle" href="../../static.files/light-ebce58d0a40c3431.css"><link rel="stylesheet" disabled href="../../static.files/dark-f23faae4a2daf9a6.css"><link rel="stylesheet" disabled href="../../static.files/ayu-8af5e100b21cd173.css"><script id="default-settings" ></script><script src="../../static.files/storage-d43fa987303ecbbb.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../static.files/main-c55e1eb52e1886b4.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-13285aec31fa243e.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc fn"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="sidebar-logo" href="../../rb_sys/index.html"><div class="logo-container"><img class="rust-logo" src="../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></div></a><h2></h2></nav><nav class="sidebar"><a class="sidebar-logo" href="../../rb_sys/index.html"><div class="logo-container"><img class="rust-logo" src="../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></div></a><div class="sidebar-elems"><h2><a href="index.html">In rb_sys::bindings</a></h2></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../static.files/wheel-5ec35bf9ca753509.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1 class="fqn">Function <a href="../index.html">rb_sys</a>::<wbr><a href="index.html">bindings</a>::<wbr><a class="fn" href="#">rb_f_kill</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="srclink" href="../../src/rb_sys/Users/ryantaylor/Code/vault/target/debug/build/rb-sys-8f1975fcdcff6741/out/bindings-0.9.70-arm64-darwin21-3.2.0.rs.html#13642">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><div class="item-decl"><pre class="rust fn"><code>pub unsafe extern &quot;C&quot; fn rb_f_kill(<br>&nbsp;&nbsp;&nbsp;&nbsp;argc: <a class="type" href="https://doc.rust-lang.org/1.67.1/std/os/raw/type.c_int.html" title="type std::os::raw::c_int">c_int</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;argv: <a class="primitive" href="https://doc.rust-lang.org/1.67.1/std/primitive.pointer.html">*const </a><a class="type" href="type.VALUE.html" title="type rb_sys::bindings::VALUE">VALUE</a><br>) -&gt; <a class="type" href="type.VALUE.html" title="type rb_sys::bindings::VALUE">VALUE</a></code></pre></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Sends a signal (&quot;kills&quot;) to processes.</p>
<p>The first argument is the signal, either in:</p>
<ul>
<li>Numerical representation (e.g. <code>9</code>), or</li>
<li>Textual  representation   of  canonical   (e.g.   <code>:SIGKILL</code>)   name  or
abbreviated (e.g. <code>:KILL</code>) name, either in ::<a href="static.rb_cSymbol.html" title="rb_cSymbol"><code>rb_cSymbol</code></a> or ::<a href="static.rb_cString.html" title="rb_cString"><code>rb_cString</code></a>.</li>
</ul>
<p>All the  remaining arguments are  numerical representations of  process IDs.
This function iterates over them to send the specified signal.</p>
<p>You can specify both negative PIDs and negative signo to this function:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code>sig \\ pid | &gt;= <span class="number">1 </span>| == <span class="number">0 </span>| == -<span class="number">1 </span>| &lt;= -<span class="number">2
</span>===========+======+======+=======+=======
&gt; <span class="number">0   </span>|  #<span class="number">1  </span>|  #<span class="number">2  </span>|  #<span class="number">3   </span>|  #<span class="number">4
</span>== <span class="number">0   </span>|  #<span class="number">5  </span>|  #<span class="number">6  </span>|  #<span class="number">7   </span>|  #<span class="number">8
</span>&lt; <span class="number">0   </span>|  #<span class="number">9  </span>|  #<span class="number">10 </span>|      #<span class="number">11</span></code></pre></div>
<ul>
<li>
<p>Case #1: When  signo and PID are both positive,  this function sends the
specified signal to the specified process (intuitive).</p>
</li>
<li>
<p>Case #2: When  signo is  positive and PID  is zero, this  function sends
that signal to the current process group.</p>
</li>
<li>
<p>Case #3: When signo is positive and  PID is -1, this function sends that
signal to everything that the current process is allowed to kill.</p>
</li>
<li>
<p>Case #4: When signo  is positive and PID is negative  (but not -1), this
function sends that signal to every  processes in a process group, whose
process group ID is the absolute value of the passed PID.</p>
</li>
<li>
<p>Case #5: When  signo  is zero  and PID is  positive, this  function just
checks  for the  existence of  the  specified process  and doesn’t  send
anything to  anyone.  In  case the process  is absent  <code>Errno::ESRCH</code> is
raised.</p>
</li>
<li>
<p>Case #6: When signo and PID are  both zero, this function checks for the
existence of the current process group.   And it must do.  This function
is effectively a no-op then.</p>
</li>
<li>
<p>Case #7: When signo is zero and PID is -1, this function checks if there
is any other  process that the current process can  kill.  At least init
(PID 1) must exist, so this must not fail.</p>
</li>
<li>
<p>Case #8: When  signo is  zero and  PID is  negative (but  not -1),  this
function checks  if there is a  process group whose process  group ID is
the absolute  value of  the passed  PID.  In case  the process  group is
absent <code>Errno::ESRCH</code> is raised.</p>
</li>
<li>
<p>Case #9: When signo is negative and PID is positive, this function sends
the absolute value of the passed signo to the process group specified as
the PID.</p>
</li>
<li>
<p>Case #10: When signo is negative and  PID is zero, it is highly expected
that this function  sends the absolute value of the  passed signo to the
current  process   group.   Strictly  speaking,  IEEE   Std  1003.1-2017
specifies that  this (<code>killpg(3posix)</code> with  an argument of zero)  is an
undefined behaviour.  But no operating system  is known so far that does
things differently.</p>
</li>
<li>
<p>Case #11: When  signo and PID  are both negative, the  behaviour of this
function  depends on  how <code>killpg(3)</code>  works.  On  Linux, it  seems such
attempt is  strictly prohibited and  <code>Errno::EINVAL</code> is raised.   But on
macOS, it seems it  tries to to send the signal  actually to the process
group.</p>
</li>
</ul>
<hr />
<h4 id="note"><a href="#note">Note</a></h4>
<p>Above description is in fact different from how <code>kill(2)</code> works.
We interpret the passed arguments before passing them through to
system calls.</p>
<ul>
<li><strong>@param</strong> <code>in</code> argc                 Number of objects in <code>argv</code>.</li>
<li><strong>@param</strong> <code>in</code> argv                 Signal, followed by target PIDs.</li>
<li><strong>@exception</strong> <a href="static.rb_eArgError.html" title="rb_eArgError"><code>rb_eArgError</code></a>         Unknown signal name.</li>
<li><strong>@exception</strong> <a href="static.rb_eSystemCallError.html" title="rb_eSystemCallError"><code>rb_eSystemCallError</code></a>  Various errors sending signal to processes.</li>
<li><strong>@return</strong> Something numeric.  The meaning of this return value is unclear.
It seems in case of #1 above, this could be the body count.  But
other cases remain mysterious.</li>
</ul>
<hr />
<p>Generated by <a href="https://github.com/oxidize-rb/rb-sys">rb-sys</a> for Ruby 3.2.0</p>
</div></details></section></div></main><div id="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="rb_sys" data-themes="" data-resource-suffix="" data-rustdoc-version="1.67.1 (d5a82bbd2 2023-02-07)" data-search-js="search-444266647c4dba98.js" data-settings-js="settings-bebeae96e00e4617.js" data-settings-css="settings-af96d9e2fc13e081.css" ></div></body></html>